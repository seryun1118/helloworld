# 1. 프로세스(process)란?
> 프로세스(process)란 단순히 실행 중인 프로그램(program)이라고 할수있다.
> 즉, 사용자가 작성한 프로그램이 운영체제에 의해 메모리 공간을 할당받아 실행 중인 것을 말한다.
> 이러한 프로세스는 프로그램에 사용되는 데이터와 메모리 등의 자원 그리고 스레드로 구성된다.
# 2. 스레드(Thread) 란?
> 스레드(Thread)란 프로세스(process)내에서 실제로 작업을 수행하는 주체를 의미한다.
> 모든 프로세스에는 한 개 이상의 스레드가 존재하여 작업을 수행한다.
> 또한, 두 개 이상의 스레드를 가지는 프로세스를 멀티스레드 프로세스라고 한다.
# 3. 멀티 스레드(multi thread)란?
> 일반적으로 하나의 프로세스는 하나의 스레드를 가지고 작업을 수행한다.
> 하지만 멀티 스레드란 하나의 프로세스 내에서 둘 이상의 스레드가 동시에 작업을 수행하는 것을 의미한다.
> 또한, 멀티 프로세스는 여러개의 CPU를 사용하여 여러 프로세스를 동시에 수행하는 것을 의미한다.
> 멀티스레드와 멀티프로세스는 모두 여러 흐름을 동시에 수행한다는 공통점을 갖고있다.
> 멀티프로세스는 각 프로세스가 독립적인 메모리를 가지고 별도로 실행되지만, 멀티스레드는 각 스레드가 자신이 속한 프로세스의 메모리를 공유한다는점이 다르다.
> 멀티스레드는 각 스레드가 자신이 속한 프로세스의 메모리를 공유하므로, 시스템 자원의 낭비가 적다.
> 또한, 하나의 스레드가 작업을 할때 다른 스레드가 별도의 작업을 할 수 있어 사용자와의 응답성도 좋아진다.
# 4. Thread Safe란?
> 멀티 스레드 프로그래밍에서 일반적으로 어떤 함수나 변수, 혹은 객체가 여러 스레드로부터 동시에 접근이 이루어져도 프로그램의 실행에 문제가 없음을 뜻한다.
> 보다 엄밀하게는 하나의 함수가 한 스레드로부터 호출되어 실행중일 때, 다른 스레드가 그 함수를 호출하여 동시에 함께 실행되더라도 각 스레드에서 함수의 수행 결과가 올바르게 나오는 것으로 정의한다.
# 5. Thread-Safe 보장 방법
1. Mutual exclusion
- 상호배제란, 한 Thread가 자원에 접근할 때 다른 Thread의 접근을 막는것을 의마한다.
- 공유 자원을 꼭 사용해야 할 경우 해당 자원의 접근을 세마포어 등의 락으로 통제한다.
- 즉, Critical Section을 정의해서 Critical Section은 한번에 하나의 스레드만 접근할 수 있도록 해야한다.
- java에서는 synchronized를 사용한다.
2. Re-entrancy
- 어떤 함수가 한 스레드에 의해 호출되어 실행중일때, 다른 스레드가 그 함수를 호출하더라도 그 결과가 각각에게 올바르게 주어져야한다.
3. Thread-local storage
- 공유 자원의 사용을 최대한 줄여 각각의 스레드에서만 접근 가능한 저장소들을 사용함으로써 동시 접근을 막는다.
- 멀티 스레드 환경에서 글로벌 변수 등의 사용을 지양하라는 것임
4. Atomic operations
- 공유 자원에 접근할 때 원자 연산을 이용하거나 '원자적'으로 정의된 접근 방법을 사용함으로써 상호 배제를 구현할 수 있다.
- 쉽게 설명하자면 "+=" 연산의 경우, 한 줄의 코드더라도 '+' 연산 후에 '=' 연산을 하기 때문에 원자적이라고 하기 어렵다. (실제 virtual instruction 수준에서 보더라도 원자적이라고 보기 어렵다.)
* 자바에서 PriorityQueue는 thread unsafe 인스턴스이기때문에 멀티쓰레드 환경에서는 PriorityBlockingQueue를 사용해야한다.


thread-safety가 자명한 경우를 제외하고는 Mutual exclusion을 사용하는 것을 추천한다.
아무래도 느려질 가능성이 생기긴하겠지만, 실 상황에서 나머지 3가지를 자명한 수준으로 고려하거나 적용하는 것이 쉽지않기때문이다.
그렇다면 실 상황에서 mutual exclusion을 사용하는 예시는 무엇이 있을까? 바로 GIL이다

wiki.python에서는 GIL 필요한 주요 이유가 CPython의 메모리 관리가 thread-safe하지 않기때문이라고 설명하고 있다.

# 4. 문맥 교환(context switching)
> 컴퓨터에서 동시에 처리하

